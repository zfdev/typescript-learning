"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Mediator = (function () {
    function Mediator(isDebug) {
        if (isDebug === void 0) { isDebug = false; }
        this._$ = $({});
        this._isDebug = isDebug;
    }
    Mediator.prototype.publish = function (e) {
        if (this._isDebug === true) {
            console.log(new Date().getTime(), "PUBLISH", e.topic, e.data);
        }
        this._$.trigger(e.topic, e.data);
    };
    Mediator.prototype.subscribe = function (e) {
        if (this._isDebug === true) {
            console.log(new Date().getTime(), "SUBSCRIBE", e.topic, e.data);
        }
        this._$.on(e.topic, e.data);
    };
    Mediator.prototype.unsubscribe = function (e) {
        if (this._isDebug === true) {
            console.log(new Date().getTime(), "UNSUBSCRIBE", e.topic, e.data);
        }
        this._$.off(e.topic, e.data);
    };
    return Mediator;
}());
exports.Mediator = Mediator;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lZGlhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBR0E7SUFHSSxrQkFBWSxPQUF1QjtRQUF2Qix3QkFBQSxFQUFBLGVBQXVCO1FBQy9CLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO0lBQzVCLENBQUM7SUFDTSwwQkFBTyxHQUFkLFVBQWUsQ0FBWTtRQUN2QixJQUFHLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxFQUFDO1lBQ3RCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDakU7UUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBQ00sNEJBQVMsR0FBaEIsVUFBaUIsQ0FBWTtRQUN6QixJQUFHLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxFQUFDO1lBQ3RCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBQ00sOEJBQVcsR0FBbEIsVUFBbUIsQ0FBWTtRQUMzQixJQUFHLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxFQUFDO1lBQ3RCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxhQUFhLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDckU7UUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBQ0wsZUFBQztBQUFELENBekJBLEFBeUJDLElBQUE7QUFFTyw0QkFBUSIsImZpbGUiOiJtZWRpYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2ludGVyZmFjZXMudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0eXBlcy9qcXVlcnkvaW5kZXguZC50c1wiIC8+XHJcblxyXG5jbGFzcyBNZWRpYXRvciBpbXBsZW1lbnRzIElNZWRpYXRvcntcclxuICAgIHByaXZhdGUgXyQ6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgX2lzRGVidWc7XHJcbiAgICBjb25zdHJ1Y3Rvcihpc0RlYnVnOmJvb2xlYW4gPSBmYWxzZSl7XHJcbiAgICAgICAgdGhpcy5fJCA9ICQoe30pO1xyXG4gICAgICAgIHRoaXMuX2lzRGVidWcgPSBpc0RlYnVnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHB1Ymxpc2goZTogSUFwcEV2ZW50KTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMuX2lzRGVidWcgPT09IHRydWUpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhuZXcgRGF0ZSgpLmdldFRpbWUoKSwgXCJQVUJMSVNIXCIsIGUudG9waWMsIGUuZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuXyQudHJpZ2dlcihlLnRvcGljLCBlLmRhdGEpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN1YnNjcmliZShlOiBJQXBwRXZlbnQpOnZvaWR7XHJcbiAgICAgICAgaWYodGhpcy5faXNEZWJ1ZyA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBcIlNVQlNDUklCRVwiLCBlLnRvcGljLCBlLmRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl8kLm9uKGUudG9waWMsIGUuZGF0YSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgdW5zdWJzY3JpYmUoZTogSUFwcEV2ZW50KTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMuX2lzRGVidWcgPT09IHRydWUpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhuZXcgRGF0ZSgpLmdldFRpbWUoKSwgXCJVTlNVQlNDUklCRVwiLCBlLnRvcGljLCBlLmRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl8kLm9mZihlLnRvcGljLCBlLmRhdGEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge01lZGlhdG9yfTsiXX0=
