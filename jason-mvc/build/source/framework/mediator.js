"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Mediator = (function () {
    function Mediator(isDebug) {
        if (isDebug === void 0) { isDebug = false; }
        this._$ = $({});
        this._isDebug = isDebug;
    }
    Mediator.prototype.publish = function (e) {
        if (this._isDebug === true) {
            console.log(new Date().getTime(), "PUBLISH", e.topic, e.data);
        }
        this._$.trigger(e.topic, e.data);
    };
    Mediator.prototype.subscribe = function (e) {
        if (this._isDebug === true) {
            console.log(new Date().getTime(), "SUBSCRIBE", e.topic, e.handler);
        }
        this._$.on(e.topic, e.handler);
    };
    Mediator.prototype.unsubscribe = function (e) {
        if (this._isDebug === true) {
            console.log(new Date().getTime(), "UNSUBSCRIBE", e.topic, e.data);
        }
        this._$.off(e.topic);
    };
    return Mediator;
}());
exports.Mediator = Mediator;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZyYW1ld29yay9tZWRpYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUdBO0lBR0ksa0JBQVksT0FBdUI7UUFBdkIsd0JBQUEsRUFBQSxlQUF1QjtRQUMvQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoQixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztJQUM1QixDQUFDO0lBQ00sMEJBQU8sR0FBZCxVQUFlLENBQVk7UUFDdkIsSUFBRyxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksRUFBQztZQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2pFO1FBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNNLDRCQUFTLEdBQWhCLFVBQWlCLENBQVk7UUFDekIsSUFBRyxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksRUFBQztZQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsV0FBVyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3RFO1FBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUNNLDhCQUFXLEdBQWxCLFVBQW1CLENBQVk7UUFDM0IsSUFBRyxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksRUFBQztZQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsYUFBYSxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3JFO1FBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFDTCxlQUFDO0FBQUQsQ0F6QkEsQUF5QkMsSUFBQTtBQUVPLDRCQUFRIiwiZmlsZSI6ImZyYW1ld29yay9tZWRpYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2ludGVyZmFjZXMudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0eXBlcy9qcXVlcnkvaW5kZXguZC50c1wiIC8+XHJcblxyXG5jbGFzcyBNZWRpYXRvciBpbXBsZW1lbnRzIElNZWRpYXRvcntcclxuICAgIHByaXZhdGUgXyQ6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgX2lzRGVidWc7XHJcbiAgICBjb25zdHJ1Y3Rvcihpc0RlYnVnOmJvb2xlYW4gPSBmYWxzZSl7XHJcbiAgICAgICAgdGhpcy5fJCA9ICQoe30pO1xyXG4gICAgICAgIHRoaXMuX2lzRGVidWcgPSBpc0RlYnVnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHB1Ymxpc2goZTogSUFwcEV2ZW50KTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMuX2lzRGVidWcgPT09IHRydWUpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhuZXcgRGF0ZSgpLmdldFRpbWUoKSwgXCJQVUJMSVNIXCIsIGUudG9waWMsIGUuZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuXyQudHJpZ2dlcihlLnRvcGljLCBlLmRhdGEpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN1YnNjcmliZShlOiBJQXBwRXZlbnQpOnZvaWR7XHJcbiAgICAgICAgaWYodGhpcy5faXNEZWJ1ZyA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBcIlNVQlNDUklCRVwiLCBlLnRvcGljLCBlLmhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl8kLm9uKGUudG9waWMsIGUuaGFuZGxlcik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgdW5zdWJzY3JpYmUoZTogSUFwcEV2ZW50KTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMuX2lzRGVidWcgPT09IHRydWUpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhuZXcgRGF0ZSgpLmdldFRpbWUoKSwgXCJVTlNVQlNDUklCRVwiLCBlLnRvcGljLCBlLmRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl8kLm9mZihlLnRvcGljKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtNZWRpYXRvcn07Il19
