var User = (function () {
    function User() {
    }
    User.prototype.isValid = function () {
        return true;
    };
    return User;
}());
var Talk = (function () {
    function Talk() {
    }
    Talk.prototype.isValid = function () {
        return true;
    };
    return Talk;
}());
var GenericRepository = (function () {
    function GenericRepository(url) {
        this._url = url;
    }
    GenericRepository.prototype.getAsync = function () {
        var _this = this;
        return Q.Promise(function (resolve, reject) {
            $.ajax({
                url: _this._url,
                type: "GET",
                dataType: "json",
                success: function (data) {
                    var items = data.items;
                    var lists = [];
                    for (var i = 0; i < items.length; i++) {
                        if (items[i].isValid()) {
                            lists.push(items[i]);
                        }
                    }
                    resolve(lists);
                },
                error: function (e) {
                    reject(e);
                }
            });
        });
    };
    return GenericRepository;
}());
var userRepository = new GenericRepository("./demos/shared/users.json");
userRepository.getAsync().then(function (users) {
    console.log('notGenericUserRepository =>', users);
});
var talkRepository = new GenericRepository("./demos/shared/talks.json");
talkRepository.getAsync().then(function (talks) {
    console.log('notGenericUserRepository =>', talks);
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNlRBO0lBQUE7SUFNQSxDQUFDO0lBSFUsc0JBQU8sR0FBZDtRQUNJLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDTCxXQUFDO0FBQUQsQ0FOQSxBQU1DLElBQUE7QUFFRDtJQUFBO0lBU0EsQ0FBQztJQUhVLHNCQUFPLEdBQWQ7UUFDSSxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0wsV0FBQztBQUFELENBVEEsQUFTQyxJQUFBO0FBTUQ7SUFFSSwyQkFBWSxHQUFXO1FBQ25CLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0lBQ3BCLENBQUM7SUFFTSxvQ0FBUSxHQUFmO1FBQUEsaUJBcUJDO1FBcEJHLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFDLE9BQTZCLEVBQUUsTUFBTTtZQUNuRCxDQUFDLENBQUMsSUFBSSxDQUFDO2dCQUNILEdBQUcsRUFBRSxLQUFJLENBQUMsSUFBSTtnQkFDZCxJQUFJLEVBQUUsS0FBSztnQkFDWCxRQUFRLEVBQUUsTUFBTTtnQkFDaEIsT0FBTyxFQUFFLFVBQUMsSUFBSTtvQkFDVixJQUFJLEtBQUssR0FBUSxJQUFJLENBQUMsS0FBSyxDQUFDO29CQUM1QixJQUFJLEtBQUssR0FBUSxFQUFFLENBQUM7b0JBQ3BCLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRSxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFDO3dCQUM5QixJQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBQzs0QkFDbEIsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzt5QkFDeEI7cUJBQ0o7b0JBQ0QsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNuQixDQUFDO2dCQUNELEtBQUssRUFBRSxVQUFDLENBQUM7b0JBQ0wsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNkLENBQUM7YUFDSixDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFDTCx3QkFBQztBQUFELENBNUJBLEFBNEJDLElBQUE7QUFFRCxJQUFJLGNBQWMsR0FBRyxJQUFJLGlCQUFpQixDQUFPLDJCQUEyQixDQUFDLENBQUM7QUFDOUUsY0FBYyxDQUFDLFFBQVEsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFTLEtBQWE7SUFDakQsT0FBTyxDQUFDLEdBQUcsQ0FBQyw2QkFBNkIsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN0RCxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksY0FBYyxHQUFHLElBQUksaUJBQWlCLENBQU8sMkJBQTJCLENBQUMsQ0FBQztBQUM5RSxjQUFjLENBQUMsUUFBUSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVMsS0FBYTtJQUNqRCxPQUFPLENBQUMsR0FBRyxDQUFDLDZCQUE2QixFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3RELENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL1RhZyBmdW5jdGlvbjogVXNlciB0byBjdXN0b20gdGVtcGxhdGUgc3RyaW5nIHByb2Nlc3NvclxyXG4vLyBsZXQgc2F5OnN0cmluZyA9ICdhIGJpcmQgaW4gaGFuZCA+IHR3byBpbiB0aGUgYnVzaCc7XHJcbi8vIGxldCBodG1sOmFueSA9IGh0bWxFc2NhcGUgYDxkaXY+IEkgd291bGQganVzdCBsaWtlIHRvIHNheSA6ICR7c2F5fTwvZGl2PmA7XHJcblxyXG4vLyBmdW5jdGlvbiBodG1sRXNjYXBlKGxpdGVyYWxzOiBhbnksIC4uLnBsYWNlaG9sZGVyczphbnlbXSk6IGFueSB7XHJcbi8vICAgICBsZXQgcmVzdWx0OnN0cmluZyA9IFwiXCI7XHJcblxyXG4vLyAgICAgLy8gaW50ZXJsZWF2ZSB0aGUgbGl0ZXJhbHMgd2l0aCB0aGUgcGxhY2Vob2xkZXJzXHJcbi8vICAgICBmb3IgKGxldCBpOm51bWJlciA9IDA7IGkgPCBwbGFjZWhvbGRlcnMubGVuZ3RoOyBpKyspIHtcclxuLy8gICAgICAgICByZXN1bHQgKz0gbGl0ZXJhbHNbaV07XHJcbi8vICAgICAgICAgcmVzdWx0ICs9IHBsYWNlaG9sZGVyc1tpXVxyXG4vLyAgICAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxyXG4vLyAgICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXHJcbi8vICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csICcmIzM5OycpXHJcbi8vICAgICAgICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcclxuLy8gICAgICAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBhZGQgdGhlIGxhc3QgbGl0ZXJhbFxyXG4vLyAgICAgcmVzdWx0ICs9IGxpdGVyYWxzW2xpdGVyYWxzLmxlbmd0aCAtIDFdO1xyXG4vLyAgICAgcmV0dXJuIHJlc3VsdDtcclxuLy8gfVxyXG4vLyBhbGVydChodG1sKTtcclxuXHJcbi8vSGlnaCBsZXZlbCBmdW5jaXRvblxyXG4vLyBmdW5jdGlvbiBiYXIoY2IgOigpPT52b2lkKXtcclxuLy8gICAgIGNiKCk7XHJcbi8vIH1cclxuXHJcbi8vQXJyb3cgRnVuY3Rpb25cclxuLy8gY2xhc3MgUGVyc29ue1xyXG4vLyAgICAgbmFtZTogc3RyaW5nO1xyXG4vLyAgICAgY29uc3RydWN0b3IobmFtZTpzdHJpbmcpe1xyXG4vLyAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbi8vICAgICB9XHJcbi8vICAgICBncmVldCgpe1xyXG4vLyAgICAgICAgIGFsZXJ0KGBIaSEgTXkgbmFtZSBpcyAke3RoaXMubmFtZX1gKTtcclxuLy8gICAgIH1cclxuLy8gICAgIC8vIGdyZWV0RGVsYXkodGltZTogbnVtYmVyKXtcclxuLy8gICAgIC8vICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgLy8gICAgICAgICBhbGVydChgSGkhIE15IG5hbWUgaXMgJHt0aGlzLm5hbWV9YCk7IFxyXG4vLyAgICAgLy8gICAgIH0sIHRpbWUpO1xyXG4vLyAgICAgLy8gfSAgXHJcbi8vICAgICBncmVldERlbGF5KHRpbWU6IG51bWJlcil7XHJcbi8vICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IC8vYmluZCBzY29wZVxyXG4vLyAgICAgICAgICAgICBhbGVydChgSGkhIE15IG5hbWUgaXMgJHt0aGlzLm5hbWV9YCk7IFxyXG4vLyAgICAgICAgIH0sIHRpbWUpO1xyXG4vLyAgICAgfSAgICBcclxuLy8gfVxyXG5cclxuLy8gdmFyIG5ld1Blb3BsZSA9IG5ldyBQZXJzb24oXCJKYXNvblwiKTtcclxuLy8gbmV3UGVvcGxlLmdyZWV0KCk7XHJcbi8vIG5ld1Blb3BsZS5ncmVldERlbGF5KDUwMDApO1xyXG5cclxuLy9Qcm9taXNlXHJcbi8vIC8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uXFwuLlxcdHlwaW5nc1xcZ2xvYmFsc1xcaGFuZGxlYmFyc1xcaW5kZXguZC50c1wiIC8+IFxyXG4vLyBpbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XHJcbi8vIGltcG9ydCAqIGFzIFEgZnJvbSAnUSc7XHJcbi8vIHR5cGUgY2IgPSAoanNvbjphbnkpID0+IHZvaWQ7XHJcbi8vIGNsYXNzIFZpZXd7XHJcbi8vICAgICBwcml2YXRlIF9jb250YWluZXI6IHN0cmluZztcclxuLy8gICAgIHByaXZhdGUgX3RlbXBsYXRlVXJsOiBzdHJpbmc7XHJcbi8vICAgICBwcml2YXRlIF9zZXJ2aWNlVXJsOiBzdHJpbmc7XHJcbi8vICAgICBwcml2YXRlIF9hcmdzOiBhbnk7XHJcbi8vICAgICBjb25zdHJ1Y3Rvcihjb25maWc6IGFueSl7XHJcbi8vICAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29uZmlnLmNvbnRhaW5lcjtcclxuLy8gICAgICAgICB0aGlzLl90ZW1wbGF0ZVVybCA9IGNvbmZpZy50ZW1wbGF0ZVVybDtcclxuLy8gICAgICAgICB0aGlzLl9zZXJ2aWNlVXJsID0gY29uZmlnLnNlcnZpY2VVcmw7XHJcbi8vICAgICAgICAgdGhpcy5fYXJncyA9IGNvbmZpZy5hcmdzO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgcHJpdmF0ZSBfbG9hZEpzb24odXJsOiBzdHJpbmcsIGFyZ3M6IGFueSwgY2I6IGNiLCBlcnJvckNiOmNiKXtcclxuLy8gICAgICAgICAkLmFqYXgoe1xyXG4vLyAgICAgICAgICAgICB1cmw6IHVybCxcclxuLy8gICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuLy8gICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4vLyAgICAgICAgICAgICBkYXRhOiBhcmdzLFxyXG4vLyAgICAgICAgICAgICBzdWNjZXNzOiAoanNvbikgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgY2IoanNvbik7XHJcbi8vICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgIGVycm9yOiAoZSk9PntcclxuLy8gICAgICAgICAgICAgICAgIGVycm9yQ2IoZSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9KVxyXG4vLyAgICAgfVxyXG4vLyAgICAgcHJpdmF0ZSBfbG9hZEhicyh1cmw6IHN0cmluZywgY2I6IGNiLCBlcnJvckNiOmNiKXtcclxuLy8gICAgICAgICAkLmFqYXgoe1xyXG4vLyAgICAgICAgICAgICB1cmw6IHVybCxcclxuLy8gICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuLy8gICAgICAgICAgICAgZGF0YVR5cGU6IFwidGV4dFwiLFxyXG4vLyAgICAgICAgICAgICBzdWNjZXNzOiAoaGJzKSA9PiB7XHJcbi8vICAgICAgICAgICAgICAgICBjYihoYnMpO1xyXG4vLyAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICBlcnJvcjogKGUpPT57XHJcbi8vICAgICAgICAgICAgICAgICBlcnJvckNiKGUpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfSlcclxuLy8gICAgIH1cclxuLy8gICAgIHByaXZhdGUgX2NvbXBpbGVIYnMoaGJzOiBzdHJpbmcsIGNiOiBjYiwgZXJyb3JDYjpjYil7XHJcbi8vICAgICAgICAgdHJ5e1xyXG4vLyAgICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoaGJzKTtcclxuLy8gICAgICAgICAgICAgY2IodGVtcGxhdGUpO1xyXG4vLyAgICAgICAgIH1jYXRjaChlKXtcclxuLy8gICAgICAgICAgICAgZXJyb3JDYihlKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vICAgICBwcml2YXRlIF9qc29uVG9IdG1sKHRlbXBsYXRlOiBhbnksIGpzb246IGFueSwgY2I6IGNiLCBlcnJvckNiOmNiKXsgICAgICAgIFxyXG4vLyAgICAgICAgIHRyeXtcclxuLy8gICAgICAgICAgICAgdmFyIGh0bWwgPSB0ZW1wbGF0ZShqc29uKTtcclxuLy8gICAgICAgICAgICAgY2IoaHRtbCk7XHJcbi8vICAgICAgICAgfWNhdGNoKGUpe1xyXG4vLyAgICAgICAgICAgICBlcnJvckNiKGUpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0gXHJcbi8vICAgICBwcml2YXRlIF9hcHBlbmRIdG1sKGh0bWw6IHN0cmluZywgY2I6IGNiLCBlcnJvckNiOmNiKXtcclxuLy8gICAgICAgICB0cnl7XHJcbi8vICAgICAgICAgICAgIGlmKCQodGhpcy5fY29udGFpbmVyKS5sZW5ndGggPT09IDApe1xyXG4vLyAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udGFpbmVyIG5vdCBmb3VuZCFcIik7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgJCh0aGlzLl9jb250YWluZXIpLmh0bWwoaHRtbCk7XHJcbi8vICAgICAgICAgICAgIGNiKCQodGhpcy5fY29udGFpbmVyKSk7XHJcbi8vICAgICAgICAgfWNhdGNoKGUpe1xyXG4vLyAgICAgICAgICAgICBlcnJvckNiKGUpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gICAgIHB1YmxpYyByZW5kZXIoY2I6IGNiLCBlcnJvckNiOiBjYil7XHJcbi8vICAgICAgICAgdHJ5IHtcclxuLy8gICAgICAgICAgICAgdGhpcy5fbG9hZEpzb24odGhpcy5fc2VydmljZVVybCwgdGhpcy5fYXJncywgKGpzb24pPT57XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkSGJzKHRoaXMuX3RlbXBsYXRlVXJsLCAoaGJzKT0+e1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBpbGVIYnMoaGJzLCAodGVtcGxhdGUpPT57XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2pzb25Ub0h0bWwodGVtcGxhdGUsIGpzb24sIChodG1sKT0+e1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXBwZW5kSHRtbChodG1sLCBjYiwgZXJyb3JDYik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGVycm9yQ2IpXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfSwgZXJyb3JDYik7XHJcbi8vICAgICAgICAgICAgICAgICB9LCBlcnJvckNiKTtcclxuLy8gICAgICAgICAgICAgfSwgZXJyb3JDYik7XHJcbi8vICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4vLyAgICAgICAgICAgICBlcnJvckNiKGUpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gY2xhc3MgVmlld0FzeW5je1xyXG4vLyAgICAgcHJpdmF0ZSBfY29udGFpbmVyOiBzdHJpbmc7XHJcbi8vICAgICBwcml2YXRlIF90ZW1wbGF0ZVVybDogc3RyaW5nO1xyXG4vLyAgICAgcHJpdmF0ZSBfc2VydmljZVVybDogc3RyaW5nO1xyXG4vLyAgICAgcHJpdmF0ZSBfYXJnczogYW55O1xyXG4vLyAgICAgY29uc3RydWN0b3IoY29uZmlnOiBhbnkpe1xyXG4vLyAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbmZpZy5jb250YWluZXI7XHJcbi8vICAgICAgICAgdGhpcy5fdGVtcGxhdGVVcmwgPSBjb25maWcudGVtcGxhdGVVcmw7XHJcbi8vICAgICAgICAgdGhpcy5fc2VydmljZVVybCA9IGNvbmZpZy5zZXJ2aWNlVXJsO1xyXG4vLyAgICAgICAgIHRoaXMuX2FyZ3MgPSBjb25maWcuYXJncztcclxuLy8gICAgIH1cclxuLy8gICAgIHByaXZhdGUgX2xvYWRKc29uQXN5bmModXJsOiBzdHJpbmcsIGFyZ3M6IGFueSl7XHJcbi8vICAgICAgICAgcmV0dXJuIFEuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xyXG4vLyAgICAgICAgICAgICAkLmFqYXgoe1xyXG4vLyAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcbi8vICAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4vLyAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4vLyAgICAgICAgICAgICAgICAgZGF0YTogYXJncyxcclxuLy8gICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChqc29uKSA9PiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShqc29uKTtcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBlcnJvcjogKGUpPT57XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgIH1cclxuLy8gICAgIHByaXZhdGUgX2xvYWRIYnNBc3luYyh1cmw6IHN0cmluZyl7XHJcbi8vICAgICAgICAgcmV0dXJuIFEuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xyXG4vLyAgICAgICAgICAgICAkLmFqYXgoe1xyXG4vLyAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcbi8vICAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4vLyAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwidGV4dFwiLFxyXG4vLyAgICAgICAgICAgICAgICAgc3VjY2VzczogKGhicykgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaGJzKTtcclxuLy8gICAgICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICAgICBlcnJvcjogKGUpPT57XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICB9KTtcclxuXHJcbi8vICAgICB9XHJcbi8vICAgICBwcml2YXRlIF9jb21waWxlSGJzQXN5bmMoaGJzOiBzdHJpbmcpe1xyXG4vLyAgICAgICAgIHJldHVybiBRLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcclxuLy8gICAgICAgICAgICAgdHJ5e1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGhicyk7XHJcbi8vICAgICAgICAgICAgICAgICByZXNvbHZlKHRlbXBsYXRlKTtcclxuLy8gICAgICAgICAgICAgfWNhdGNoKGUpe1xyXG4vLyAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfSk7ICAgIFxyXG5cclxuLy8gICAgIH1cclxuLy8gICAgIHByaXZhdGUgX2pzb25Ub0h0bWxBc3luYyh0ZW1wbGF0ZTogYW55LCBqc29uOiBhbnkpe1xyXG4vLyAgICAgICAgIHJldHVybiBRLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcclxuLy8gICAgICAgICAgICAgdHJ5e1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSB0ZW1wbGF0ZShqc29uKTtcclxuLy8gICAgICAgICAgICAgICAgIHJlc29sdmUoaHRtbCk7XHJcbi8vICAgICAgICAgICAgIH1jYXRjaChlKXtcclxuLy8gICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgXHJcbi8vICAgICB9IFxyXG4vLyAgICAgcHJpdmF0ZSBfYXBwZW5kSHRtbEFzeW5jKGh0bWw6IHN0cmluZywgY29udGFpbmVyOiBzdHJpbmcpe1xyXG4vLyAgICAgICAgIHJldHVybiBRLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcclxuLy8gICAgICAgICAgICAgdHJ5e1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyICRjb250YWluZXI6IGFueSA9ICQoY29udGFpbmVyKTtcclxuLy8gICAgICAgICAgICAgICAgIGlmKCRjb250YWluZXIubGVuZ3RoID09PSAwKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250YWluZXIgbm90IGZvdW5kIVwiKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICRjb250YWluZXIuaHRtbChodG1sKTtcclxuLy8gICAgICAgICAgICAgICAgIHJlc29sdmUoJGNvbnRhaW5lcik7XHJcbi8vICAgICAgICAgICAgIH1jYXRjaChlKXtcclxuLy8gICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0pOyAgICAgXHJcblxyXG4vLyAgICAgfVxyXG4vLyAgICAgcHVibGljIHJlbmRlckFzeW5jKCl7XHJcbi8vICAgICAgICAgcmV0dXJuIFEuUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xyXG4vLyAgICAgICAgICAgICB0cnl7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgZ2V0SnNvbiA9IHRoaXMuX2xvYWRKc29uQXN5bmModGhpcy5fc2VydmljZVVybCwgdGhpcy5fYXJncyk7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgZ2V0VGVtcGxhdGUgPSB0aGlzLl9sb2FkSGJzQXN5bmModGhpcy5fdGVtcGxhdGVVcmwpLnRoZW4odGhpcy5fY29tcGlsZUhic0FzeW5jKTtcclxuLy8gICAgICAgICAgICAgICAgIFEuYWxsKFsnZ2V0SnNvbicsICdnZXRUZW1wbGF0ZSddKS50aGVuKChyZXN1bHRzKT0+e1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gcmVzdWx0c1swXTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSByZXN1bHRzWzFdO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2pzb25Ub0h0bWxBc3luYyh0ZW1wbGF0ZSwganNvbilcclxuLy8gICAgICAgICAgICAgICAgICAgICAudGhlbigoaHRtbDpzdHJpbmcpPT57XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hcHBlbmRIdG1sQXN5bmMoaHRtbCwgdGhpcy5fY29udGFpbmVyKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCRjb250YWluZXI6IGFueSk9PntcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgkY29udGFpbmVyKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgICAgIH1jYXRjaChlKXtcclxuLy8gICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0pOyAgICAgICAgICBcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gKmZvbygpe1xyXG4vLyAgICAgeWllbGQgMTtcclxuLy8gICAgIHlpZWxkIDI7XHJcbi8vICAgICB5aWVsZCAzO1xyXG4vLyAgICAgeWllbGQgNDtcclxuLy8gICAgIHJldHVybiA1O1xyXG4vLyB9XHJcblxyXG4vLyB2YXIgYmFyID0gbmV3IGZvbygpO1xyXG4vLyBiYXIubmV4dCgpO1xyXG4vLyBiYXIubmV4dCgpO1xyXG4vLyBiYXIubmV4dCgpO1xyXG4vLyBiYXIubmV4dCgpO1xyXG4vLyBiYXIubmV4dCgpO1xyXG4vLyBiYXIubmV4dCgpO1xyXG5cclxuLy8gdmFyIHA6IFByb21pc2U8bnVtYmVyPjtcclxuLy8gYXN5bmMgZnVuY2l0b24gZm4oKTogUHJvbWlzZTxudW1iZXI+e1xyXG4vLyAgICAgdmFyIGkgPSBhd2FpdCBwO1xyXG4vLyAgICAgcmV0dXJuIDEgKyBpO1xyXG4vLyB9XHJcblxyXG4vL1Byb21pc2VcclxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi5cXC4uXFx0eXBpbmdzXFxtb2R1bGVzXFxxXFxpbmRleC5kLnRzXCIgLz4gXHJcblxyXG5cclxuLy8gY2xhc3MgTm90R2VuZXJpY1VzZXJSZXBvc2l0b3J5e1xyXG4vLyAgICAgcHJpdmF0ZSBfdXJsOiBzdHJpbmc7XHJcbi8vICAgICBjb25zdHJ1Y3Rvcih1cmw6IHN0cmluZyl7XHJcbi8vICAgICAgICAgdGhpcy5fdXJsID0gdXJsO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBnZXRBc3luYygpe1xyXG4vLyAgICAgICAgIHJldHVybiBRLlByb21pc2UoKHJlc29sdmU6ICh1c2VyczogVXNlcltdKSA9PiB2b2lkLCByZWplY3QpPT57XHJcbi8vICAgICAgICAgICAgICQuYWpheCh7XHJcbi8vICAgICAgICAgICAgICAgICB1cmw6IHRoaXMuX3VybCxcclxuLy8gICAgICAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbi8vICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbi8vICAgICAgICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSk9PntcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgdXNlcnMgPSA8VXNlcltdPmRhdGEuaXRlbXM7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh1c2Vycyk7XHJcbi8vICAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAgICAgZXJyb3I6IChlKT0+e1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGNsYXNzIE5vdEdlbmVyaWNUYWxrUmVwb3NpdG9yeXtcclxuLy8gICAgIHByaXZhdGUgX3VybDogc3RyaW5nO1xyXG4vLyAgICAgY29uc3RydWN0b3IodXJsOiBzdHJpbmcpe1xyXG4vLyAgICAgICAgIHRoaXMuX3VybCA9IHVybDtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZ2V0QXN5bmMoKXtcclxuLy8gICAgICAgICByZXR1cm4gUS5Qcm9taXNlKChyZXNvbHZlOiAodXNlcnM6IFRhbGtbXSkgPT4gdm9pZCwgcmVqZWN0KT0+e1xyXG4vLyAgICAgICAgICAgICAkLmFqYXgoe1xyXG4vLyAgICAgICAgICAgICAgICAgdXJsOiB0aGlzLl91cmwsXHJcbi8vICAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4vLyAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4vLyAgICAgICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpPT57XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIHRhbGtzID0gPFRhbGtbXT5kYXRhLml0ZW1zO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGFsa3MpO1xyXG4vLyAgICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgICAgIGVycm9yOiAoZSk9PntcclxuLy8gICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgfSAgICBcclxuLy8gfVxyXG5cclxuY2xhc3MgVXNlciBpbXBsZW1lbnRzIFZhbGlkYXRhYmxlSW50ZXJmYWNle1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyBwYXNzd29yZDogc3RyaW5nO1xyXG4gICAgcHVibGljIGlzVmFsaWQoKTogYm9vbGVhbntcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVGFsayBpbXBsZW1lbnRzIFZhbGlkYXRhYmxlSW50ZXJmYWNle1xyXG4gICAgcHVibGljIHRpdGxlOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIHB1YmxpYyBsYW5ndWFnZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHVybDogc3RyaW5nO1xyXG4gICAgcHVibGljIHllYXI6IHN0cmluZztcclxuICAgIHB1YmxpYyBpc1ZhbGlkKCk6IGJvb2xlYW57XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9ICAgIFxyXG59XHJcblxyXG5pbnRlcmZhY2UgVmFsaWRhdGFibGVJbnRlcmZhY2V7XHJcbiAgICBpc1ZhbGlkKCk6IGJvb2xlYW47XHJcbn1cclxuXHJcbmNsYXNzIEdlbmVyaWNSZXBvc2l0b3J5PFQgZXh0ZW5kcyBWYWxpZGF0YWJsZUludGVyZmFjZT57XHJcbiAgICBwcml2YXRlIF91cmw6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKHVybDogc3RyaW5nKXtcclxuICAgICAgICB0aGlzLl91cmwgPSB1cmw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEFzeW5jKCl7XHJcbiAgICAgICAgcmV0dXJuIFEuUHJvbWlzZSgocmVzb2x2ZTogKHVzZXJzOiBUW10pID0+IHZvaWQsIHJlamVjdCk9PntcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogdGhpcy5fdXJsLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IDxUW10+ZGF0YS5pdGVtcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdHMgPSA8VFtdPltdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpPCBpdGVtcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1zW2ldLmlzVmFsaWQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0cy5wdXNoKGl0ZW1zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGxpc3RzKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogKGUpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0gICAgXHJcbn1cclxuXHJcbnZhciB1c2VyUmVwb3NpdG9yeSA9IG5ldyBHZW5lcmljUmVwb3NpdG9yeTxVc2VyPihcIi4vZGVtb3Mvc2hhcmVkL3VzZXJzLmpzb25cIik7XHJcbnVzZXJSZXBvc2l0b3J5LmdldEFzeW5jKCkudGhlbihmdW5jdGlvbih1c2VyczogVXNlcltdKXtcclxuICAgIGNvbnNvbGUubG9nKCdub3RHZW5lcmljVXNlclJlcG9zaXRvcnkgPT4nLCB1c2Vycyk7XHJcbn0pO1xyXG5cclxudmFyIHRhbGtSZXBvc2l0b3J5ID0gbmV3IEdlbmVyaWNSZXBvc2l0b3J5PFRhbGs+KFwiLi9kZW1vcy9zaGFyZWQvdGFsa3MuanNvblwiKTtcclxudGFsa1JlcG9zaXRvcnkuZ2V0QXN5bmMoKS50aGVuKGZ1bmN0aW9uKHRhbGtzOiBUYWxrW10pe1xyXG4gICAgY29uc29sZS5sb2coJ25vdEdlbmVyaWNVc2VyUmVwb3NpdG9yeSA9PicsIHRhbGtzKTtcclxufSk7XHJcblxyXG5cclxuLy8gdmFyIG5vdEdlbmVyaWNVc2VyUmVwb3NpdG9yeSA9IG5ldyBOb3RHZW5lcmljVXNlclJlcG9zaXRvcnkoXCIuL2RlbW9zL3NoYXJlZC91c2Vycy5qc29uXCIpO1xyXG4vLyBub3RHZW5lcmljVXNlclJlcG9zaXRvcnkuZ2V0QXN5bmMoKS50aGVuKGZ1bmN0aW9uKHVzZXJzOiBVc2VyW10pe1xyXG4vLyAgICAgY29uc29sZS5sb2coJ25vdEdlbmVyaWNVc2VyUmVwb3NpdG9yeSA9PicsIHVzZXJzKTtcclxuLy8gfSk7Il19
